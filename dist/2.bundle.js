webpackJsonp([2],{868:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(54),o=n(l),c=a(55),u=n(c),s=a(56),i=n(s),m=a(57),d=n(m),r=a(58),f=n(r),_=a(15),h=n(_),v=a(215),E=a(146),p=a(212),N=n(p);window.__lazy_callback__=function(e){return function(t){function a(){var e,t,n,l;(0,u.default)(this,a);for(var c=arguments.length,s=Array(c),i=0;i<c;i++)s[i]=arguments[i];return t=n=(0,d.default)(this,(e=a.__proto__||(0,o.default)(a)).call.apply(e,[this].concat(s))),n.state={component:null},l=t,(0,d.default)(n,l)}return(0,f.default)(a,t),(0,i.default)(a,[{key:"componentWillMount",value:function(){var t=this;e(function(e){"function"==typeof e.default?t.setState({component:e.default}):t.setState({component:e})})}},{key:"render",value:function(){var e=this.state.component;return e?h.default.createElement(e,this.props):h.default.createElement("div",null)}}]),a}(h.default.Component)};var g=__lazy_callback__(function(e){return a.e(4).then(a.bind(null,1036)).then(e)}),b=__lazy_callback__(function(e){return a.e(6).then(a.bind(null,1038)).then(e)}),y=__lazy_callback__(function(e){return a.e(8).then(a.bind(null,1040)).then(e)}),k=__lazy_callback__(function(e){return a.e(9).then(a.bind(null,1041)).then(e)}),w=__lazy_callback__(function(e){return a.e(5).then(a.bind(null,1042)).then(e)}),L=__lazy_callback__(function(e){return a.e(7).then(a.bind(null,1046)).then(e)}),x=__lazy_callback__(function(e){return a.e(10).then(a.bind(null,1051)).then(e)}),H=window.localStorage.getItem("uid"),S=function(e){function t(e){(0,u.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.state={height_r:0,userInfo:e.userInfo},a}return(0,f.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({userInfo:e.userInfo})}},{key:"componentDidMount",value:function(){this.init()}},{key:"handleSetTimeOut",value:function(){var e=document.body||document.documentElemen,t=(new Date).getTime();e.onkeydown=function(){t=(new Date).getTime()},e.onmousemove=function(){t=(new Date).getTime()};window.setId=window.setInterval(function(){return(0,p.OutTime)(t,3e5,function(e){alert("长时间未操作，请重新登录吧！"),window.location.href="http://localhost:8200/"==e?e+"#/Login":"https://sunbridger.github.io/dist/index.html#/Login",history.pushState(null,null,document.URL),window.addEventListener("popstate",function(){history.pushState(null,null,document.URL)}),window.localStorage.removeItem("uid")})},1e4)}},{key:"init",value:function(){var e=this;if(H){this.props.dispatch({type:"GETBASEINFO_ASYNC",playload:{uid:H}});var t=document.documentElement.getBoundingClientRect().height||document.body.getBoundingClientRect().height;this.setState({height_r:t}),document.body.onscroll=function(){e.boxL.getBoundingClientRect().top;(document.documentElement.scrollTop||document.body.scrollTop)>=100?(e.boxL.style.position="fixed",e.boxL.style.top="66px",e.nav.style.display="block"):(e.boxL.style.position="relative",e.boxL.style.top="0px",e.nav.style.display="none")}}}},{key:"exit",value:function(){console.log("当前域:",N.default),"http://localhost:8200/"==N.default?window.location.href=N.default+"#/Login":window.location.href="https://sunbridger.github.io/dist/index.html#/Login",window.localStorage.removeItem("uid"),window.location.reload(),alert("已退出")}},{key:"render",value:function(){var e=this,t=this.state.height_r,a=this.state.userInfo,n=(a.name,a.logoURL),l=a.vip;return h.default.createElement("div",{className:"home_"},h.default.createElement("header",{className:"k_hd fl_k_hd"},h.default.createElement("div",{className:"k_hd_c"},h.default.createElement("a",{className:"k_logo"}),h.default.createElement("div",{className:"k_hd_r"},h.default.createElement("div",{className:"megs"},h.default.createElement("a",{href:"javascript:;",className:"megs_a"},h.default.createElement("span",{className:"icon_hd_news"}),"消息"),h.default.createElement("div",{className:"megs_box"},h.default.createElement(v.NavLink,{to:"/Home/PublicMes/Gong",className:"megs_box_a n1"},"公告"),h.default.createElement(v.NavLink,{to:"/Home/PublicMes/Tong",className:"megs_box_a n2"},"通知"),h.default.createElement(v.NavLink,{to:"/Home/comment",className:"megs_box_a n3"},"评论"))),h.default.createElement("div",{className:"user"},h.default.createElement("a",{href:"javascript:;",className:"user_a"},h.default.createElement("figure",{className:"user_f i_bg"},h.default.createElement("img",{className:"img_width",src:n})),l>=100?h.default.createElement("span",{className:"ic_v header_ic_v ic_v_orange"}):null,h.default.createElement("span",{className:"sanjiao"})),h.default.createElement("div",{className:"user_box"},h.default.createElement(v.NavLink,{to:"/Home/hotword",className:"user_box_a u2"},h.default.createElement("i",{className:"icon_hd_star"}),"成长分 ",h.default.createElement("em",null,l||0)),h.default.createElement("a",{href:"javascript:;",className:"user_box_a u4",onClick:this.exit.bind(this)},h.default.createElement("i",{className:"icon_hd_sign"}),"退出"))))),h.default.createElement("nav",{ref:function(t){return e.nav=t},className:"k_hd_nav active"},h.default.createElement(v.NavLink,{to:"/sendart",className:"k_hd_nav_a s1"},h.default.createElement("i",{className:"icon_push_txt"}),"发表文章"))),h.default.createElement("section",{className:"c_box"},h.default.createElement("div",null,h.default.createElement("nav",{className:"top_nav new_nav"},h.default.createElement(v.NavLink,{to:"/sendart",className:"top_nav_a n1"},h.default.createElement("i",{className:"icon_push_txt"}),"发表文章")))),h.default.createElement("section",{className:"c_box"},h.default.createElement("section",{ref:function(t){return e.boxL=t},style:{height:t},className:"c_box_l"},h.default.createElement(v.NavLink,{className:"l_nav_a",to:"/Home/FirstHome"},"首页"),h.default.createElement("dl",{className:"l_nav_g"},h.default.createElement("dt",{className:"l_nav_tit admin"},h.default.createElement("i",{className:"icon_manage"}),"管理"),h.default.createElement("dd",null,h.default.createElement(v.NavLink,{to:"/Home/contentList",className:"l_nav_a"},"内容管理")),h.default.createElement("dd",null,h.default.createElement(v.NavLink,{to:"/Home/comment",className:"l_nav_a"},"评论管理"))),h.default.createElement("dl",{className:"l_nav_g"},h.default.createElement("dt",{className:"l_nav_tit data"},h.default.createElement("i",{className:"icon_data"}),"数据"),h.default.createElement("dd",null,h.default.createElement(v.NavLink,{to:"/Home/contentAny",className:"l_nav_a"},"内容分析")),h.default.createElement("dd",null,h.default.createElement(v.NavLink,{to:"/Home/readerAny",className:"l_nav_a"},"读者分析"))),h.default.createElement("dl",{className:"l_nav_g"},h.default.createElement("dt",{className:"l_nav_tit find"},h.default.createElement("i",{className:"icon_find"}),"发现"),h.default.createElement("dd",null,h.default.createElement(v.NavLink,{to:"/Home/PublicMes",className:"l_nav_a"},"通知公告"))),h.default.createElement("dl",{className:"l_nav_g",onClick:function(){window.localStorage.new_myinfo=!0}},h.default.createElement("dt",{className:"l_nav_tit set"},h.default.createElement("i",{className:"icon_set"}),"设置"),h.default.createElement("dd",null,h.default.createElement(v.NavLink,{to:"/Home/hotword",className:"l_nav_a"},"个人信息")),!window.localStorage.new_myinfo&&h.default.createElement("span",{className:"showTips animated flip "},"赶快修改信息吧"))),h.default.createElement("section",{className:"c_box_r",style:{minHeight:t}},h.default.createElement(v.Switch,null,h.default.createElement(v.Route,{path:"/Home/FirstHome",component:b}),h.default.createElement(v.Route,{path:"/Home/contentList",component:g}),h.default.createElement(v.Route,{path:"/Home/comment",component:y}),h.default.createElement(v.Route,{path:"/Home/hotword",component:k}),h.default.createElement(v.Route,{path:"/Home/contentAny",component:w}),h.default.createElement(v.Route,{path:"/Home/readerAny",component:L}),h.default.createElement(v.Route,{path:"/Home/PublicMes",component:x})))))}}]),t}(_.Component),R=function(e){return e};t.default=(0,E.connect)(R)(S)}});